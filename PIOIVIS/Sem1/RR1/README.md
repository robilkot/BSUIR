# Расчётная работа 1 (indev)

<b>Вариант:</b> 6.4 через списки инцидентности

<b>Постановка задачи:</b> найти минимальное множество рёбер, удаление которых позволяет сделать граф планарным

<b>Определения:</b>

- Граф - геометрический объект, состоящий из точек (вершин) и линий, которые их соединяют (рёбер)
- Планарный граф - граф, который можно изобразить на плоскости без пересечений рёбер не по вершинам
- Изоморфизм графов - биекция между множествами вершин двух графов
- Подразделение графа - граф, полученный делением рёбер данного графа
- Исключение вершины - операция, обратная к подразделению графа
- Гомеоморфные графы - графы, для подразделений которых существует изоморфизм

<b>Описание алгоритма:</b>

*В коде присутствует множество комментариев, поэтому многие детали в этом описании опущены. В следующем блоке дано краткое описание всех функций, реализованных для решения [под]задач*

1. Исключение всех возможных вершин из данного графа
2. Проверка на критерий планарности
  * Поиск подграфа К5 (1)
  * Поиск подграфа К3,3 (2)
3. Поиск общих рёбер найденных подграфов (если имеются), рассмотрение их как приоритетных для удаления
4. Удаление найденных ранее рёбер

(1) Поиск подграфа К5
1. Выделение подграфа, состоящего из вершин, степень которых 5 и более (в коде названы кандидатами 1 уровня)
2. Возвращение пустого подграфа, если в получившемся графе менее 5 вершин
3. Выделение подграфа из получившегося подграфа по степени каждой вершины 4 и более (в коде названы кандидатами 2 уровня)
4. Возвращение пустого подграфа, если в получившемся графе менее 5 вершин
5. Поиск выполнен, возвращение подграфа, содержащего К5 или несколько таковых

(2) Поиск подграфа К3,3
1.
2.
3.

# Реализованные структуры и функции

<details><summary><b>Структуры</b></summary>
<br />

- Вершина

Включает в себя имя, список инцидентности (далее - СИ). Также имеет методы для получения степени и вывода своего СИ на экран

- Граф

Включает в себя массив вершин, метод определения, пустой ли граф, метод, возвращающий количество рёбер графа, а также метод для вывода СИ всех своих вершин

</details>

<details><summary><b>Функции</b></summary>
<br />

- GetVertexFromString

Функция чтения строки формата "имя - ребро - ребро - ... - ребро" в объект типа vertex

- GetGraphFromFile

Функция чтения графа из файла. Использует вышеуказанную функцию для построчного чтения вершин.

- WriteGraphToFile

Запись графа в указанный файл

- CleanVector

Вспомогательная функция для очистки векторов от дубликатов. В работе используется vector, а не set, из-за простоты обращения к элементам (без итераторов).

- GetNeighboorVertices

Функция для получения списка номеров вершин в графе, смежных с данной. Работает путём нахождения совпадений в СИ данной и других вершин

- Neighboors

Проверяет, являются ли две вершины в графе смежными

- CanBeExcluded

Проверяет, может ли вершина быть исключённой из графа. Условие - степень 2 данной вершины а также несмежность двух смежных данной вершине вершин.

- GetCommonVertices

Получает список номеров вершин, которые содержатся в обоих данных графах

- GetCommonEdges (перегружена)

Получает список рёбер, общих для двух вершин

Получает список рёбер, общих для двух графов

- GetEdgeNumber

Вспомогательная функция. Возвращает номер данного ребра из СИ данной вершины

- EcludeVertex

Исключает вершину из графа. Возвращает 1 при успешном выполнении, 0 если исключение невозможно

- ExcludeAllVertices

Использует вышеуказанную функцию для исключения всех возможных вершин из данного графа

- DeleteVertex

Удаляет данную вершину из данного графа. Также очищает СИ всех вершин, ранее смежных с удалённой, от рёбер, ведущих в никуда

- DeleteEdge

Удаляет данное ребро из данного графа

- CleanIncidenceList

Вспомогательная функция. Очищает СИ данной вершины данного графа от рёбер, ведущих в никуда

- CleanAllIncidenceList

Использует вышеуказанную функцию для очистки СИ всех вершин данного графа

- GetSubgraph_K5

Возвращает граф, содержащий все изоморфизмы подграфов данного графа полному графу К5 (часть проверки критерия планарности)

- GetSubgraph_K33

Возвращает подграф изоморфный полному двудольному графу К3,3 (часть проверки критерия планарности)

- Planar

Проверяет, является ли данный граф планарным

- MakePlanar

Удаляет из графа минимальное множество рёбер для превращения его в планарный

</details>


# Тестовые графы

![test_input1](https://user-images.githubusercontent.com/82116328/198360374-858575b6-ab34-4f06-b161-c5bb28b318ae.png)

В первом примере непланарность графа обеспечена подграфом К5 (1-5 вершины). Пример демонстрирует работу функций исключения вершин, а также поиска подграфов К5.

![test_input2](https://user-images.githubusercontent.com/82116328/198360385-b062b6ab-0e46-4224-a576-595152b71977.png)

Второй пример - полный граф К6. Неочевидное решение примера - удаление трёх рёбер.

![test_input3](https://user-images.githubusercontent.com/82116328/198360394-b58e6bc3-2a91-4740-a27b-791a60200038.png)

Третий пример - двудольный граф. Пример демонстрирует работоспособность функции нахождения подграфов К3,3

![test_input4](https://user-images.githubusercontent.com/82116328/198360406-7e4c9007-fcd7-4451-8775-32ea1035539b.png)

Четвертый пример - граф, содержащий как подграф К5, так и подграф К3,3. Пример демонстрирует работу функций для оптимального удаления рёбер: сперва программа пытается удалить рёбра, общие для двух непланарных подграфов, в то время как рёбра нижней части даже не считаются нужными нам.

test5

Пятый пример - ещё один граф, содержащий как подграф К5, так и подграф К3,3. В отличие от предыдущего примера, здесь отличается взаимное расположение двух непланарных подграфов.
